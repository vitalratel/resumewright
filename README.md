# ResumeWright

**A privacy-first browser extension that converts Claude-generated CV/resume TSX components into professional, ATS-compatible PDF files.**

ResumeWright combines a high-performance Rust/WebAssembly core engine with a TypeScript-based browser extension interface to deliver seamless, local-only CV conversion directly in your browser.

**Status:** Beta - Ready for testing and feedback

---

## Features

‚úÖ **Manual TSX File Import** - Import TSX files generated by Claude.ai from your file system
‚úÖ **High-Performance PDF Generation** - Rust/WASM core converts TSX to professional PDFs
‚úÖ **ATS-Compatible Output** - PDFs optimized for Applicant Tracking Systems
‚úÖ **Custom Font Support** - Embed custom fonts in your PDFs
‚úÖ **Privacy-First Architecture** - 100% client-side processing, no data leaves your browser
‚úÖ **Customizable Margins & Paper Sizes** - A4, Letter, Legal with adjustable margins
‚úÖ **Local-Only Storage** - Settings and history stored in browser (no cloud sync)

**How it works:** Save your Claude-generated TSX code to a `.tsx` file, then use ResumeWright to convert it to a professional PDF. No direct Claude.ai integration - keeps the tool simple, secure, and privacy-focused.

---

[![CI](https://github.com/vitalratel/resumewright/workflows/CI/badge.svg)](https://github.com/vitalratel/resumewright/actions/workflows/ci.yml)
[![Visual Tests - Custom Fonts](https://github.com/vitalratel/resumewright/workflows/Visual%20Tests%20-%20Custom%20Fonts%20(Story%202.7)/badge.svg)](https://github.com/vitalratel/resumewright/actions/workflows/visual-tests-custom-fonts.yml)

---

## Table of Contents

- [Prerequisites](#prerequisites)
- [Quick Start](#quick-start)
- [Installation Guides](#installation-guides)
  - [Installing Git](#installing-git)
  - [Installing Node.js and pnpm](#installing-nodejs-and-pnpm)
  - [Installing Rust Toolchain](#installing-rust-toolchain)
  - [Installing wasm-pack](#installing-wasm-pack)
- [Platform-Specific Considerations](#platform-specific-considerations)
- [Troubleshooting Prerequisites](#troubleshooting-prerequisites)
- [Expected Installation Time](#expected-installation-time)
- [Project Overview](#project-overview)
- [Development](#development)

---

## Prerequisites

Before you can build and run ResumeWright, you need to install the following development tools. These are required for both the Rust/WASM core engine and the TypeScript browser extension.

### Required Tools

| Tool | Minimum Version | Verification Command |
|------|----------------|---------------------|
| Node.js | 22.0+ | `node --version` |
| pnpm | 10.0+ | `pnpm --version` |
| Rust | 1.91+ | `rustc --version` |
| Cargo | (included with Rust) | `cargo --version` |
| wasm-pack | 0.12+ | `wasm-pack --version` |
| Git | any recent version | `git --version` |

### Verify Your Setup

After installing the prerequisites, run our verification script to ensure everything is properly configured:

**Unix/macOS/Linux:**
```bash
./scripts/verify-prerequisites.sh
```

**Windows PowerShell:**
```powershell
.\scripts\verify-prerequisites.ps1
```

The script will check all required tools and report any issues. You should see a success message like:

```
‚úÖ ALL PREREQUISITES VERIFIED

You're ready to proceed with Story 1.1: Browser Extension Project Setup
```

---

## Quick Start

1. **Install Prerequisites** (follow detailed guides below)
2. **Verify Installation**: Run `./scripts/verify-prerequisites.sh` (Unix/macOS/Linux) or `.\scripts\verify-prerequisites.ps1` (Windows)
3. **Clone Repository**: `git clone https://github.com/vitalratel/resumewright.git`
4. **Proceed to Development**: Once verification passes, you're ready to build the project

---

## Installation Guides

### Installing Git

Git is required for version control and cloning the repository.

#### macOS
```bash
# Using Homebrew (recommended)
brew install git

# Or download installer from:
# https://git-scm.com/download/mac
```

#### Linux

**Debian/Ubuntu:**
```bash
sudo apt-get update
sudo apt-get install git
```

**Fedora:**
```bash
sudo dnf install git
```

**Arch Linux:**
```bash
sudo pacman -S git
```

#### Windows
Download and install Git for Windows from: https://git-scm.com/download/win

**After Installation:**
```bash
# Verify installation
git --version

# Configure Git (required for commits)
git config --global user.name "Your Name"
git config --global user.email "your.email@example.com"
```

---

### Installing Node.js and pnpm

Node.js is the JavaScript runtime required for the browser extension. pnpm is a fast, disk-efficient package manager.

#### Recommended: Using nvm (Node Version Manager)

**macOS/Linux:**
```bash
# Install nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.5/install.sh | bash

# Restart terminal or run:
source ~/.bashrc  # or ~/.zshrc on macOS

# Install Node.js 18 LTS
nvm install 18
nvm use 18
nvm alias default 18
```

**Windows:**
1. Download nvm-windows from: https://github.com/coreybutler/nvm-windows/releases
2. Install the setup executable
3. Open a new terminal and run:
```powershell
nvm install 18
nvm use 18
```

#### Alternative: Direct Installation

Download Node.js LTS installer from: https://nodejs.org/

**Verify Node.js installation:**
```bash
node --version  # Should show v22.x.x or higher
```

#### Installing pnpm

**Option 1: Using npm (comes with Node.js)**
```bash
npm install -g pnpm
```

**Option 2: Using standalone script (Unix/macOS/Linux)**
```bash
curl -fsSL https://get.pnpm.io/install.sh | sh -
```

**Option 3: Using PowerShell (Windows)**
```powershell
iwr https://get.pnpm.io/install.ps1 -useb | iex
```

**Verify pnpm installation:**
```bash
pnpm --version  # Should show 8.x.x or higher
```

**Why pnpm?** pnpm is faster and more disk-efficient than npm, using hard links to save disk space while managing dependencies.

---

### Installing Rust Toolchain

Rust is required for building the high-performance WASM core engine.

#### macOS/Linux
```bash
# Install rustup (Rust installer and version manager)
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# Follow the on-screen instructions (typically just press Enter)
# After installation completes, restart your terminal or run:
source $HOME/.cargo/env
```

#### Windows
1. Download rustup-init.exe from: https://rustup.rs/
2. Run the installer
3. Follow the on-screen instructions
4. Restart your terminal

**Note for Windows:** You may need to install Visual Studio C++ Build Tools if prompted. Download from: https://visualstudio.microsoft.com/visual-cpp-build-tools/ and select "Desktop development with C++" workload.

#### Configure and Verify

```bash
# Set default toolchain to stable
rustup default stable

# Verify installation
rustc --version  # Should show 1.75.0 or higher
cargo --version  # Cargo is Rust's package manager and build tool
```

#### Updating Rust

Rust is frequently updated. To update your Rust installation:
```bash
rustup update
```

---

### Installing wasm-pack

wasm-pack is a tool for building, testing, and publishing Rust-generated WebAssembly.

#### macOS
```bash
# Using Homebrew (fastest)
brew install wasm-pack

# Or using cargo
cargo install wasm-pack
```

#### Linux
```bash
# Using installation script (recommended)
curl https://rustwasm.github.io/wasm-pack/installer/init.sh -sSf | sh

# Or using cargo
cargo install wasm-pack
```

#### Windows
```powershell
# Using cargo (recommended)
cargo install wasm-pack

# Or download pre-built binary from:
# https://github.com/rustwasm/wasm-pack/releases
```

**Verify installation:**
```bash
wasm-pack --version  # Should show 0.12.0 or higher
```

**Important Notes:**
- wasm-pack installation takes 5-10 minutes on first run (compiles from source)
- Ensure `~/.cargo/bin` is in your PATH (rustup installer usually adds this automatically)
- If `wasm-pack` command is not found after installation, restart your terminal

---

## Platform-Specific Considerations

### Windows

- **Visual Studio Build Tools**: Required for some Rust crates with C dependencies
  - Download from: https://visualstudio.microsoft.com/visual-cpp-build-tools/
  - Select "Desktop development with C++" workload during installation
- **PowerShell**: Recommended over Command Prompt for better Unicode support and scripting
- **Execution Policy**: If you encounter "execution of scripts is disabled" error:
  ```powershell
  Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
  ```
- **PATH Configuration**: Tools are usually added to PATH automatically, but restart your terminal if commands aren't recognized

### macOS

- **Xcode Command Line Tools**: Required for C compiler (needed by Rust)
  ```bash
  xcode-select --install
  ```
- **Homebrew**: Recommended for package management (not required)
  ```bash
  /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
  ```
- **Apple Silicon (M1/M2/M3)**: Fully supported by Rust 1.75+, no special configuration needed

### Linux

- **Build Essentials**: Required for C compiler and development tools
  ```bash
  # Debian/Ubuntu
  sudo apt-get install build-essential pkg-config libssl-dev

  # Fedora
  sudo dnf install gcc gcc-c++ make openssl-devel pkg-config

  # Arch
  sudo pacman -S base-devel openssl pkg-config
  ```
- **Package Managers**: Commands vary by distribution (apt, dnf, pacman, etc.)
- **SSL Libraries**: Required for some Rust dependencies (`libssl-dev` or `openssl-devel`)

---

## Troubleshooting Prerequisites

### "rustc: command not found" after Rust installation

**Solution:** Restart your terminal or manually load the Rust environment:
```bash
source $HOME/.cargo/env
```

### "wasm-pack: command not found" after installation

**Solution:** Ensure `~/.cargo/bin` is in your PATH:
```bash
# Check if it's in PATH
echo $PATH | grep -q ".cargo/bin" && echo "‚úÖ In PATH" || echo "‚ùå Not in PATH"

# Add to PATH (add this to ~/.bashrc or ~/.zshrc)
export PATH="$HOME/.cargo/bin:$PATH"

# Reload shell configuration
source ~/.bashrc  # or ~/.zshrc
```

### wasm-pack build fails with "linker not found"

**Linux Solution:**
```bash
sudo apt-get install build-essential  # Debian/Ubuntu
sudo dnf install gcc gcc-c++          # Fedora
```

**macOS Solution:**
```bash
xcode-select --install
```

### pnpm install fails with EACCES permission errors

**Solution:** Use nvm instead of system-wide Node installation (see [Installing Node.js](#installing-nodejs-and-pnpm) above). nvm installs Node in your home directory, avoiding permission issues.

### Rust version too old (< 1.75)

**Solution:** Update Rust to the latest stable version:
```bash
rustup update stable
rustup default stable
rustc --version  # Verify updated version
```

### Windows: "execution of scripts is disabled on this system"

**Solution:** Change PowerShell execution policy:
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### Node.js version too old (< 18)

**Solution:** If using nvm:
```bash
nvm install 18
nvm use 18
nvm alias default 18
```

If installed directly, download and install Node.js 18+ from: https://nodejs.org/

### Still having issues?

1. **Restart your terminal** after installing any tool
2. **Check PATH configuration**: Ensure tool directories are in your PATH
3. **Verify downloads**: Check that downloads completed successfully (especially wasm-pack, which is large)
4. **Check system requirements**: Ensure your OS version is supported
5. **Search for error messages**: Copy the exact error message and search online

---

## Expected Installation Time

Estimated time to install all prerequisites (depends on internet speed and system performance):

| Tool | Estimated Time |
|------|---------------|
| Git | 1-2 minutes |
| Node.js | 2-5 minutes |
| pnpm | 1-2 minutes |
| Rust toolchain | 5-10 minutes |
| wasm-pack | 5-10 minutes |
| **Total** | **15-30 minutes** |

**Note:** First-time Rust and wasm-pack builds take longer due to dependency compilation. Subsequent builds are much faster.

---

## Project Overview

ResumeWright is designed with privacy and performance as core principles:

- **Privacy-First**: All processing happens locally in your browser. No data is transmitted to external servers.
- **High Performance**: Rust/WebAssembly core engine delivers near-native performance for PDF generation.
- **ATS-Compatible**: Generated PDFs are optimized for Applicant Tracking Systems.
- **Open Source**: Transparent code that you can audit, modify, and contribute to.

### Architecture

- **Frontend**: TypeScript + React browser extension (Manifest V3) built with WXT
- **Backend**: Rust/WASM engine for PDF generation (1.43 MB compressed)
- **Storage**: Local-only (IndexedDB for history, no cloud sync)
- **Build System**: pnpm workspaces + Cargo workspaces (monorepo)
- **Rust Core**: 12 crates (tsx-parser, cv-domain, style-resolver, layout-engine, layout-types, pdf-generator, font-toolkit, wasm-bridge, pdf-test-utils, pdf-to-png, pdf-fixture-generator, regex-utils)

For detailed architecture documentation, see [docs/architecture/](docs/architecture/) (20+ focused documents).

---

## Development

Once you've verified all prerequisites are installed, follow these steps to get started:

### Initial Setup

```bash
# Clone the repository
git clone https://github.com/vitalratel/resumewright.git
cd resumewright

# Install all dependencies
pnpm install

# Build the extension
pnpm build
```

### Development Commands

| Command | Description |
|---------|-------------|
| `pnpm install` | Install all dependencies for the monorepo |
| `pnpm dev` | Start WXT dev server with hot reload (extension development mode) |
| `pnpm build` | Build production extension to `dist/` directory |
| `pnpm build:wasm` | Build Rust to WASM (~1.43 MB compressed) |
| `pnpm typecheck` | Run TypeScript type checking without building |
| `pnpm test` | Run all tests (TypeScript + Rust) with type checking |
| `pnpm test:ts` | Run TypeScript/Vitest tests only |
| `pnpm test:rust` | Run Rust/Cargo tests (750 tests) |
| `pnpm test:e2e` | Run Playwright E2E tests |
| `pnpm test:visual` | Run Playwright visual regression tests |
| `pnpm lint` | Run ESLint on TypeScript code |
| `pnpm format` | Format code with Prettier |
| `pnpm ci` | Run full CI validation locally (typecheck ‚Üí lint ‚Üí build ‚Üí test) |
| `pnpm validate:bundle` | Validate WASM bundle size against baseline |
| `pnpm build:test-fixtures` | Transpile TSX test fixtures to JavaScript (required before visual tests) |

### Development Workflow

#### Type Checking

Run TypeScript type checking without building:

```bash
pnpm typecheck
```

This verifies all TypeScript code compiles without errors. It's faster than a full build and catches type errors early.

#### Full CI Validation

Run the complete CI pipeline locally before pushing:

```bash
pnpm ci
```

This runs: **typecheck ‚Üí lint ‚Üí build ‚Üí test ‚Üí bundle validation**

All steps must pass. Use this command before creating a pull request to ensure CI will pass.

#### Pre-Commit Hooks

The project uses Husky for automated pre-commit hooks. Before each commit:

- ‚úÖ **Type check** runs automatically
- ‚úÖ **Linter** runs automatically

If hooks fail, fix the errors before committing. This prevents broken code from entering version control.

**Emergency bypass** (use sparingly):

```bash
git commit --no-verify -m "Emergency fix"
```

**When to bypass:**
- Critical production hotfixes
- You understand the error and will fix in next commit
- Never bypass to "save time" during normal development

#### CI/CD Pipeline

All pushes and pull requests automatically run the full validation pipeline on GitHub Actions:

1. **Type checking** - Ensures all TypeScript compiles
2. **Linting** - Enforces code style and catches common errors
3. **Full build from source** - Verifies clean compilation
4. **All tests** - Runs 300+ TypeScript and Rust tests
5. **Bundle size validation** - Ensures WASM bundle doesn't exceed limits

**Pull requests cannot be merged if CI fails.**

CI results appear as status checks on your pull request. Click "Details" to see which step failed.

### Loading Extension in Chrome

1. Build the extension:
   ```bash
   pnpm build
   ```

2. Open Chrome and navigate to: `chrome://extensions/`

3. Enable **Developer mode** (toggle in top right)

4. Click **Load unpacked**

5. Select the `dist/` directory from the project root

6. The ResumeWright icon should appear in your browser toolbar

7. Click the icon to open the extension popup

### Project Structure

```
resumewright/
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îú‚îÄ‚îÄ extension/          # TypeScript browser extension (WXT-based)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ background/ # Service worker (Manifest V3)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ content/    # TSX extractor (optional in v1.7)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ popup/      # React UI components
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ shared/     # Shared utilities and types
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ public/         # Static assets (icons, etc.)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ wxt.config.ts   # WXT configuration
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ rust-core/          # Rust/WASM backend (12 crates)
‚îÇ       ‚îú‚îÄ‚îÄ tsx-parser/     # TSX parsing with OXC
‚îÇ       ‚îú‚îÄ‚îÄ cv-domain/      # Domain models
‚îÇ       ‚îú‚îÄ‚îÄ style-resolver/ # Tailwind CSS and style resolution
‚îÇ       ‚îú‚îÄ‚îÄ layout-engine/  # Box layout algorithm (Taffy-based)
‚îÇ       ‚îú‚îÄ‚îÄ layout-types/   # Layout type definitions
‚îÇ       ‚îú‚îÄ‚îÄ pdf-generator/  # PDF generation with lopdf
‚îÇ       ‚îú‚îÄ‚îÄ font-toolkit/   # Font embedding and WOFF2 decompression
‚îÇ       ‚îú‚îÄ‚îÄ wasm-bridge/    # WASM bindings
‚îÇ       ‚îú‚îÄ‚îÄ pdf-test-utils/ # Testing utilities
‚îÇ       ‚îú‚îÄ‚îÄ pdf-to-png/     # Visual regression support
‚îÇ       ‚îú‚îÄ‚îÄ pdf-fixture-generator/ # Test fixture generation
‚îÇ       ‚îî‚îÄ‚îÄ regex-utils/    # WASM-compatible regex patterns
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ architecture/       # Architecture documentation (20+ files)
‚îÇ   ‚îú‚îÄ‚îÄ stories/            # User stories (Epic 0-4)
‚îÇ   ‚îú‚îÄ‚îÄ prd/                # Product requirements
‚îÇ   ‚îú‚îÄ‚îÄ deployment/         # Store submission checklists
‚îÇ   ‚îî‚îÄ‚îÄ qa/                 # QA assessments
‚îú‚îÄ‚îÄ scripts/                # Build and utility scripts
‚îú‚îÄ‚îÄ pkg/                    # Built WASM files (gitignored)
‚îî‚îÄ‚îÄ pnpm-workspace.yaml     # Monorepo configuration
```

### Development Workflow

1. **Hot Reload (Development)**: Run `pnpm dev` and make changes. WXT will automatically rebuild and reload the extension.

2. **Background Worker Changes**: WXT handles automatic reloading, but manual extension reload in Chrome may be needed for major changes.

3. **TSX Extractor Changes**: Refresh the tab after rebuild to see changes.

4. **WASM Changes**: Run `pnpm build:wasm` to rebuild the Rust core, then restart `pnpm dev`.

5. **Testing**: Write tests adjacent to source files (e.g., `App.test.tsx` next to `App.tsx`). Run tests with `pnpm test`.

### ## Roadmap

**Completed:**
- ‚úÖ PDF generation engine with multi-page support
- ‚úÖ Google Fonts embedding with subsetting
- ‚úÖ Custom font support (TTF, OTF)
- ‚úÖ WASM bundle optimization (1.43 MB compressed)
- ‚úÖ Progress indicators

**In Progress:**
- üîÑ Error handling improvements
- üîÑ Auto-naming and download management

**Planned:**
- ‚è≥ Firefox support
- ‚è≥ Additional PDF customization options
- ‚è≥ Chrome Web Store submission

### Documentation

- **Development Guide:** [docs-public/DEVELOPMENT.md](docs-public/DEVELOPMENT.md)
- **Troubleshooting:** [docs-public/TROUBLESHOOTING.md](docs-public/TROUBLESHOOTING.md)
- **Architecture:** [docs-public/ARCHITECTURE.md](docs-public/ARCHITECTURE.md)
- **Privacy Policy:** [docs-public/PRIVACY.md](docs-public/PRIVACY.md)
- **Security:** [SECURITY.md](SECURITY.md)
- **Code of Conduct:** [CODE_OF_CONDUCT.md](CODE_OF_CONDUCT.md)

---

## License

[MIT License - see [LICENSE](LICENSE) for details]

---

## Contributing

Contributions are welcome! Please see [CONTRIBUTING.md](CONTRIBUTING.md) for guidelines.

---

**Built with privacy and performance in mind.**
